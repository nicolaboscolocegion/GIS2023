\section{Preliminary Project}
\label{sec:preliminary_project}
The preliminary project section provides an overview of the hydrography management system project for the Province of Belluno. It covers various aspects, including goals, system functions, databases, technological components, project guidelines, operational aspects, risk management, benefits evaluation, and cost evaluation. This section serves as a comprehensive summary of the project, outlining its objectives, system functionalities, database structure, technical components, implementation guidelines, and assessment of potential benefits and costs. It provides a holistic view of the project's scope and sets the foundation for its successful execution and management.

\subsection{Goals}
The goals of the hydrography management system project for the Province of Belluno are defined to ensure the successful development, implementation, and utilization of the system. These goals provide a clear direction for our project team and serve as measurable outcomes to evaluate the project's success. The goals can be categorized into two key areas: overarching goals and intermediate goals.
\subsubsection{Overarching Goals}

\begin{itemize}
    \item \textbf{Develop a comprehensive hydrography management system}: The primary goal of the project is to design, develop, and implement a comprehensive hydrography management system tailored to the specific requirements of the Province of Belluno. The system will enable efficient management of water resources, including the documentation of water bodies, tracking of intakes, monitoring of water conditions, and citizen alert management;
    \item \textbf{Ensure user-friendly access and compatibility}: The system should provide a user-friendly interface accessible through popular web browsers such as Explorer, Chrome, and Firefox. Additionally, it should support specific functionality through customized desktop GIS tools when necessary. Compatibility and ease of use are essential to ensure widespread adoption and efficient utilization by technical offices, internal technicians, and citizens;
    \item \textbf{Adhere to relevant standards and regulations}: The system must comply with applicable hydrography management standards and regulations. It should ensure accurate data representation, support data interchangeability using standard formats, and promote interoperability with other systems in the hydrography management domain.
\end{itemize}

\subsubsection{Intermediate Goals}
\begin{itemize}
    \item Enable efficient data management, so to develop functionality for importing and exporting data in shape format and other standard formats, allowing seamless integration with existing datasets and data exchange with external systems. Implement mechanisms for network updates, both in terms of geometric elements and attribute data, ensuring the historicization of changes to track the evolution of the hydrography network;
    \item Implement advanced querying and visualization capabilities, so to create an advanced interrogation system that combines spatial and alphanumeric filters, empowering users to perform complex queries for retrieving relevant information. Enable the export of query results and provide visualization capabilities for cartography and orthophotos as a background, enhancing data analysis and decision-making processes;
    \item Support intake management, so to develop features to enable the identification and management of intakes, including their positions and attributes. Implement functionality for inserting new intakes, removing abandoned ones, and determining the routes of pollutants released from intakes;
    \item Facilitate water condition monitoring, so to design and implement mechanisms to collect real-time data from water monitoring units strategically located throughout the province. Capture key parameters such as water level, flow, turbidity, temperature, conductivity, pH, redox potential, dissolved oxygen, NH4+, and CL- to enable effective monitoring of water conditions;
    \item Enable maintenance planning and execution, so to develop functionality to support the scheduling and execution recording of periodic maintenance tasks for the monitoring units. Ensure timely and efficient maintenance to maintain accurate and reliable data collection;
    \item Enable data consultation and emergency detection, so to implement features that allow technical offices to carry out combined searches, spatial and attribute-based, as well as historical queries to retrieve relevant data. Develop mechanisms to detect and notify relevant personnel of potential emergencies through email notifications triggered by abnormal parameter values;
    \item Establish citizen reporting and transparency. The aim is to create a dedicated portal to publish daily water quality analysis results and promote transparent governance. Develop a reporting system for citizens to anonymously report pollutants with photo attachments and geographical location indications. Implement automatic filtering and relevance scoring of reports to streamline manual processing and associate alerts with relevant monitoring units and previous alerts.
\end{itemize}


\subsection{Technological components}
Whenever talking about a system in the IT field it is implicit that different technological components (being them more or less interconnected) are required. In the case of the proposal for a Hydrography Management System, meeting the requirements of the customer, two different systems has top be developed: a desktop GIS system and a web GIS system, that are introduced in the following subsections and deeply explored in a dedicated paragraph. After that, software and hardware requirements need to be exploited.

\subsubsection{Database}
We can consider the database of the system the glue of all the other technological components. Furthermore, the customer already has in his IT sector a PosgreSQL database, that adapts prefectly to the system we want to develop, thanks to his extension \textit{PostGIS} that is suitable for managing spatial ang geographical data. Hence, this component will be used as the base for the developing of our application.
\subsubsection{Desktop GIS system}
Since is accepted that some of the funtional requirements can be met through a desktop GIS application, and to stay adherent to the non-functional requirement of using FOSS components, the solution found is to develop specific plugins for the \textit{OpenJUMP} desktop application, making use of the \textit{Javaâ„¢ JTS library}; the plugins built for the system will be packed together with the application and delivered to the customer. Technical support for the installation of the desktop system on customer terminals will be provided.
\subsubsection{Web GIS system}
The core of the system will be the web application: since it has to deliver to the user GIS capabilities, many components need to be integrated:
\begin{itemize}
    \item Frontend map management: it is necessary to provide to the users the possibility to use maps through the web app. For this, the OpenLayer JavaScript plugin will be used;
    \item Background map: it is necessary to display in this plugin a background map of the province: to meet this requirement, OpenStreetMap maps will be used;
    \item Backend spatial data delivery: it is necessary to deliver to the user (and to display over the OpenStreetMap) the spatial data that the Veneto Region has at disposal: for this, a dedicated Geoserver instance is necessary;
    \item Frontend implementation: parts of the web application shall be used also from the provincial citizens even on the go from mobile devices. In an optic of usability of the system with any device it is necessary of a full responsiveness of the system over any kind of terminal (smartphones, tablets, etc.) and to better integrate with other public IT systems, the \textit{Bootstrap Italia} template is our implementational choice.
\end{itemize}

\subsubsection{Hardware requirements}
To support the functioning of the web application also from the exterior of the provincial organization, because of the active citizenship policy, but also to facilitate eventual and future possibilities of smart working activities of the provincial employees, a concrete possibility is the one of setting up a public private server hosted on the cloud: this possibility can be delivered both from a provate hosting company, with a cost that has to be kept in consideration, or by the availability of some italian server infrastructure, if any.
The fact that the customer already owns a PostgreSQL database in their servers, can suggest to use them as hosting machines also for the system, but this can led to security problems since can be that the machines are used also for other purposes, and the data traffic coming from the new system can cause slowdowns of the machine or worse, of the provincial office network. A solution to this can be to keep the data on the legacy database and tunnel the traffic between the new private server and the native machine whenever interactions with database are necessary, or to replicate the data we are interested on on a new instance of PostgreSQL running on the dedicate new private server.

\subsubsection{Software requirements}
Many softwares needs to be used to set up the system:
\begin{itemize}
    \item \textbf{Operating system}: an operating system has to be installed on the private server: to be stick with the FOSS components requirement, an installation of \textit{Ubuntu server} or \textit{CentOS} can be considered as valid option.
    \item \textbf{Database}: from the considerations derived from previous section, two different approaches can be followed: in case of replication, a fresh installation of PostgreSQL with the PostGIS extension is needed; if this is not considered a valid option, a way to set up a VPN connection between the existing PostgreSQL server and the system' server needs to be setted up.
    \item \textbf{Web server}: a web server capable of delivering web contents, possibly also under SSL certificates, run scripts, and proxy data from other softwares needs to be setted up: for this, the \textit{Apache HTTP server} can be suitable for this requirement.
    \item \textbf{Scripting interpreter}: the logic of the web system will be implemented through \textit{PHP}, a scripting laguage, that needs its interpreter (with the needed extensions) to be setted up properly.
    \item \textbf{Web Map server (WMS)}: a system capable of delivering web maps is needed: for this, \textit{Geoserver} is the best solution available.
    \item \textbf{Web Map server container}: Geoserver is developed as a web application in \textit{Java}. This requires a Java container to run web applications. \textit{Tomcat} is our implementing choice, but a standalone version that includes another container (\textit{Jetty}) can be used.
    \item \textbf{Security}: to better protect the server from malicius trials of intrusion, a firewall software can be installed on the machine. A good approach can be the usage of \textit{iptables}. 
\end{itemize}

\subsubsection{Components' Schema}
\includegraphics[width=\textwidth]{img/system}

\subsection{Functional aspects of the system}
The systems are developed in a way that no specific capabilities are required from the users.
Anyway, here we present some short explaination of the funtional aspects of both the webapp and the desktop OpenJUMP plugins.
\subsubsection{WebGIS application}
\subsubsection{OpenJUMP plugins}
Differently from the webapp, here a specific initial configuration on the user's terminals needs to be setted up.
This kind of initial support is by the way provided by our company and so no tutorial needs to be included in this document.
